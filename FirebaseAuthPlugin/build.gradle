plugins {
    id 'java'
}

group = 'com.example'
version = '1.0.0'

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // Velocity API は local jar
    compileOnly files('libs/velocity-api-3.4.0.jar')

    // Velocity が内部で使っている依存（maven OK）
    compileOnly 'net.kyori:adventure-api:4.14.0'
    compileOnly 'net.kyori:adventure-text-serializer-gson:4.14.0'

    compileOnly 'org.slf4j:slf4j-api:2.0.9'

    compileOnly 'org.spongepowered:configurate-core:4.1.2'
    compileOnly 'org.spongepowered:configurate-hocon:4.1.2'

    compileOnly 'javax.inject:javax.inject:1'

    // 自分で同梱したいものだけ implementation
    implementation 'com.google.code.gson:gson:2.10.1'
}

tasks.jar {
    archiveBaseName.set('FirebaseAuthPlugin')
    archiveVersion.set('1.0.0')

    manifest {
        attributes(
            'Velocity-Plugin': 'true',
            'Main-Class': 'com.example.firebaseauth.FirebaseAuthPlugin'
        )
    }
}
